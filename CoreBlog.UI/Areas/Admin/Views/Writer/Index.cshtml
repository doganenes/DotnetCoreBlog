@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/AdminLayout.cshtml";
}

<h1>Yazar Ajax İşlemleri</h1>
<br />

<button type="button" id="btnGetList" class="btn btn-outline-primary">Yazar Listesi</button>
<br />
<br />
<div id="writerList">buraya yazarlar gelecek</div>

@section scripts {
<script>
    $("#btnGetList").click(function () {
        $.ajax({
            contentType: "application/json",
            dataType: "json",
            type: "GET",
            url: "/Admin/Writer/WriterList/",
            success: function (func) {
                let tableHtml = "<table class='table table-bordered'><tr><th>Yazar ID</th> <th>Yazar Adı</th></tr>";

                $.each(func, (index, value) => {
                    tableHtml += `<tr><td>${value.id}</td><td>${value.name}</td></tr>`;
                });

                tableHtml += "</table>";
                $("#writerList").html(tableHtml);
            }
        });
    });
</script>
}

